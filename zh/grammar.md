# 语法参考

## 说明

本文档格式为：正文内容 是代码，斜体内容 是说明，**加粗内容** 是解释







## 运算符与表达式

**表达式由操作数和运算符组成**

操作数 运算符 操作数

**一般有左右两个操作数的运算符是二元运算符**

**只有一个操作数的运算符是一元运算符**

**二元运算符有结合律，左结合是从右向左运算，右结合是从左向右运算**

**所有的运算符都有优先级，优先级越高越先计算**

## 条件运算符

逻辑表达式?表达式1:表达式2

**逻辑表达式的值为真时整个表达式的值为表达式1**

**逻辑表达式的值为假时整个表达式的值为表达式2**

## 临时作用域与名称空间

block

语句块

end

**定义一个临时作用域**

**临时作用域中的变量会在离开作用域后销毁**

namespace名称空间名

语句块

end

**定义一个名称空间**

**名称空间中只允许引入其他名称空间，变量定义，函数定义，类型定义以及名称空间定义**

using名称空间名

**引入一个名称空间，这将会在当前作用域中建立引入的名称空间中所有变量的引用**

## 分支语句

if逻辑表达式

 语句块

end

**逻辑表达式的值为真则执行语句块**

if逻辑表达式

 语句块1

else

语句块2

end

**逻辑表达式的值为真则执行语句块1**

**逻辑表达式的值为假则执行语句块2**

switch表达式

case常量标签

 语句块

end

 default

语句块

end

end

**执行与表达式的值相等的常量标签对应的case中的语句块**

**当无匹配的常量标签时会执行default中的语句块，如default未找到则跳出**

**常量标签的类型必须支持生成哈希值**

## 循环语句

while逻辑表达式

 语句块

end

**当逻辑表达式的值为真时循环执行语句块**

loop

语句块

until逻辑表达式

end

**直到逻辑表达式的值为真时跳出循环**

loop

语句块

end

**循环执行语句块直到用户手动跳出**

for变量名=表达式to表达式

 语句块

end

**定义一个变量在闭区间中遍历，步长为1**

for变量名=表达式to表达式step表达式

 语句块

end

**定义一个变量在闭区间中遍历，步长为用户指定的值**

for变量名iterate表达式

 语句块

end

**表达式的值必须是一个支持for遍历的容器**

**定义一个变量正序遍历容器**

## 控制语句

break**跳出循环**

continue**进入下一轮循环**

return**结束函数并返回null**

return表达式**结束函数并返回表达式的值**

## 异常处理

throw异常**抛出一个异常**

try

语句块

catch异常名

 语句块

end

**测试代码是否会抛出异常，如抛出则抓取异常**

## 函数

function函数名\(参数列表（可选）\)

语句块

end

**定义一个函数**

**参数列表中的参数只能指定名称，参数名不可重复，各参数之间以逗号分隔，如：**

function test\(a0,a1,a2\)

## Lambda表达式

\[ \]\(参数列表（可选）\)-&gt;表达式**定义一个Lambda表达式**

**参数列表中的参数只能指定名称，参数名不可重复，各参数之间以逗号分隔**

**Lambda表达式是一种匿名函数，调用Lambda表达式将计算表达式的值并返回**

## 结构

struct结构名

 结构体

end

**结构定义后结构名就可以作为类型名使用**

**结构体中只允许变量定义和函数定义**

**结构体中的变量或函数称为结构体的成员**

**编译器会为成员函数插入一个隐式的this参数**

**this指的是调用成员函数的结构实例本身**

**this只在成员函数中可用**

## 名称查找

变量名**从最上层作用域开始向下查找变量**

current.变量名** 查找当前作用域中的变量**

global.变量名**查找全局作用域中的变量**

名称空间名.变量名**查找名称空间中的变量**

变量名.变量名**查找结构体或扩展中的变量**

**注意：对于最后一种访问方法，仅变量类型为结构或支持扩展的类型时可用，如访问的是扩展或结构中的函数，将会把点运算符左边的变量作为函数的第一个参数传入。**

**也就是说：**char.isspace\(ch\)**等价于**ch.isspace\(\)

